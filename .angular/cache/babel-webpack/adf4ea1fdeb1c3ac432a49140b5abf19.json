{"ast":null,"code":"import { async } from '../scheduler/async';\nimport { scan } from './scan';\nimport { defer } from '../observable/defer';\nimport { map } from './map';\nexport function timeInterval(scheduler) {\n  if (scheduler === void 0) {\n    scheduler = async;\n  }\n\n  return function (source) {\n    return defer(function () {\n      return source.pipe(scan(function (_a, value) {\n        var current = _a.current;\n        return {\n          value: value,\n          current: scheduler.now(),\n          last: current\n        };\n      }, {\n        current: scheduler.now(),\n        value: undefined,\n        last: undefined\n      }), map(function (_a) {\n        var current = _a.current,\n            last = _a.last,\n            value = _a.value;\n        return new TimeInterval(value, current - last);\n      }));\n    });\n  };\n}\n\nvar TimeInterval = function () {\n  function TimeInterval(value, interval) {\n    this.value = value;\n    this.interval = interval;\n  }\n\n  return TimeInterval;\n}();\n\nexport { TimeInterval };","map":{"version":3,"sources":["/Users/netanelbasal/www/effects/node_modules/rxjs/dist/esm5/internal/operators/timeInterval.js"],"names":["async","scan","defer","map","timeInterval","scheduler","source","pipe","_a","value","current","now","last","undefined","TimeInterval","interval"],"mappings":"AAAA,SAASA,KAAT,QAAsB,oBAAtB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,KAAT,QAAsB,qBAAtB;AACA,SAASC,GAAT,QAAoB,OAApB;AACA,OAAO,SAASC,YAAT,CAAsBC,SAAtB,EAAiC;AACpC,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,IAAAA,SAAS,GAAGL,KAAZ;AAAoB;;AAChD,SAAO,UAAUM,MAAV,EAAkB;AACrB,WAAOJ,KAAK,CAAC,YAAY;AACrB,aAAOI,MAAM,CAACC,IAAP,CAAYN,IAAI,CAAC,UAAUO,EAAV,EAAcC,KAAd,EAAqB;AACzC,YAAIC,OAAO,GAAGF,EAAE,CAACE,OAAjB;AACA,eAAQ;AAAED,UAAAA,KAAK,EAAEA,KAAT;AAAgBC,UAAAA,OAAO,EAAEL,SAAS,CAACM,GAAV,EAAzB;AAA0CC,UAAAA,IAAI,EAAEF;AAAhD,SAAR;AACH,OAHsB,EAGpB;AACCA,QAAAA,OAAO,EAAEL,SAAS,CAACM,GAAV,EADV;AAECF,QAAAA,KAAK,EAAEI,SAFR;AAGCD,QAAAA,IAAI,EAAEC;AAHP,OAHoB,CAAhB,EAOHV,GAAG,CAAC,UAAUK,EAAV,EAAc;AAClB,YAAIE,OAAO,GAAGF,EAAE,CAACE,OAAjB;AAAA,YAA0BE,IAAI,GAAGJ,EAAE,CAACI,IAApC;AAAA,YAA0CH,KAAK,GAAGD,EAAE,CAACC,KAArD;AACA,eAAO,IAAIK,YAAJ,CAAiBL,KAAjB,EAAwBC,OAAO,GAAGE,IAAlC,CAAP;AACH,OAHM,CAPA,CAAP;AAWH,KAZW,CAAZ;AAaH,GAdD;AAeH;;AACD,IAAIE,YAAY,GAAI,YAAY;AAC5B,WAASA,YAAT,CAAsBL,KAAtB,EAA6BM,QAA7B,EAAuC;AACnC,SAAKN,KAAL,GAAaA,KAAb;AACA,SAAKM,QAAL,GAAgBA,QAAhB;AACH;;AACD,SAAOD,YAAP;AACH,CANmB,EAApB;;AAOA,SAASA,YAAT","sourcesContent":["import { async } from '../scheduler/async';\nimport { scan } from './scan';\nimport { defer } from '../observable/defer';\nimport { map } from './map';\nexport function timeInterval(scheduler) {\n    if (scheduler === void 0) { scheduler = async; }\n    return function (source) {\n        return defer(function () {\n            return source.pipe(scan(function (_a, value) {\n                var current = _a.current;\n                return ({ value: value, current: scheduler.now(), last: current });\n            }, {\n                current: scheduler.now(),\n                value: undefined,\n                last: undefined,\n            }), map(function (_a) {\n                var current = _a.current, last = _a.last, value = _a.value;\n                return new TimeInterval(value, current - last);\n            }));\n        });\n    };\n}\nvar TimeInterval = (function () {\n    function TimeInterval(value, interval) {\n        this.value = value;\n        this.interval = interval;\n    }\n    return TimeInterval;\n}());\nexport { TimeInterval };\n"]},"metadata":{},"sourceType":"module"}